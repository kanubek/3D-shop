@model HomeViewModel
@{
    ViewData["Title"] = "–ì–ª–∞–≤–Ω–∞—è - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –±—É–¥—É—â–µ–≥–æ";
}

<div class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">@Model.Title</h1>
        <p class="hero-subtitle">@Model.WelcomeMessage</p>
        <div class="hero-info">
            <p><strong>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, @Model.UserName!</strong></p>
            <p>–í—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞: <span class="time">@Model.CurrentTime.ToString("dd.MM.yyyy HH:mm:ss")</span></p>
            <div class="stats-inline">
                <span>üìä –û–±—ä–µ–∫—Ç–æ–≤: <strong>@Model.TotalProperties</strong></span>
                <span>üéØ 3D –º–æ–¥–µ–ª–µ–π: <strong>@Model.Properties3D</strong></span>
            </div>
        </div>
        <div class="hero-actions">
            <a href="/Property" class="btn btn-primary">üèòÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</a>
            <a href="/Property/Upload" class="btn btn-secondary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</a>
        </div>
    </div>
</div>

<div class="features-section">
    <div class="container">
        <h2>ü§ñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à–∞ –ò–ò —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è</h2>
        <div class="features-grid">
            <div class="feature-card">
                <h3>üì∑ 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ</h3>
                <p>–ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏–ª–∏ –¥–æ–º–∞ —Å —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∫—É—Ä—Å–æ–≤</p>
            </div>
            <div class="feature-card">
                <h3>ü§ñ 2. –ò–ò —Å–æ–∑–¥–∞–µ—Ç 3D</h3>
                <p>–ù–∞—à –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—É—é 3D –º–æ–¥–µ–ª—å –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã</p>
            </div>
            <div class="feature-card">
                <h3>üéÆ 3. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç—É—Ä</h3>
                <p>–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç "–≥—É–ª—è—Ç—å" –ø–æ –¥–æ–º—É –≤ 3D –∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏</p>
            </div>
        </div>
    </div>
</div>

@if (Model.FeaturedProperties.Any())
{
    <div class="featured-section">
        <div class="container">
            <h2>‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã</h2>
            <div class="properties-grid">
                @foreach (var property in Model.FeaturedProperties)
                {
                    <div class="property-card">
                        <div class="property-badge">
                            @if (property.Is3DGenerated)
                            {
                                <span class="badge-3d">üéØ 3D –≥–æ—Ç–æ–≤</span>
                            }
                            else
                            {
                                <span class="badge-processing">‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞</span>
                            }
                        </div>
                        <h3>@property.Title</h3>
                        <div class="property-details">
                            <span>üí∞ @property.Price.ToString("C0", new System.Globalization.CultureInfo("ru-RU"))</span>
                            <span>üìê @property.Area –º¬≤</span>
                            <span>üè† @property.PropertyType</span>
                        </div>
                        <a href="/Property/Details/@property.Id" class="btn btn-outline">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                }
            </div>
        </div>
    </div>
}

@section Scripts {
    <script>
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(function() {
            fetch('/Home/Api')
                .then(response => response.json())
                .then(data => {
                    document.querySelector('.time').textContent = new Date(data.timestamp).toLocaleString('ru-RU');
                });
        }, 1000);
    </script>
}